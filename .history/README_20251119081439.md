# TubeDigest ğŸ¬

AI-powered YouTube video summarization tool that transforms lengthy videos into concise, structured summaries with advanced features like topic extraction, full-text search, mind map visualization, and GitHub sync.

## âœ¨ Features

- **ğŸ¤– AI Summarization**: Powered by Claude Sonnet 4.5 for high-quality, structured summaries
- **ğŸ’¾ Persistent Storage**: All summaries saved to Supabase PostgreSQL database
- **ğŸ” Full-Text Search**: Search across all your summaries instantly
- **ğŸ·ï¸ Topic Extraction**: Automatically extracts and tags topics from summaries
- **ğŸ—ºï¸ Mind Map Visualization**: Interactive mind maps showing summary structure using React Flow
- **ğŸ“„ Detail Pages**: Individual pages for each summary with sharing capabilities
- **ğŸ”„ GitHub Sync**: Automatically save summaries as markdown files to GitHub
- **âš¡ Real-Time Streaming**: Watch summaries generate in real-time
- **ğŸ¨ Modern UI**: Built with Next.js 16, Tailwind CSS 4, and shadcn/ui

## ğŸš€ Getting Started

### Prerequisites

- Node.js 18+ and npm
- Anthropic API key (Claude)
- Supabase account
- GitHub account (optional, for sync feature)

### Installation

1. **Clone the repository**
   ```bash
   git clone https://github.com/yourusername/tubedigest.git
   cd tubedigest
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Set up environment variables**
   
   Copy `.env.local.example` to `.env.local`:
   ```bash
   cp .env.local.example .env.local
   ```
   
   Then fill in your API keys and credentials:
   ```bash
   # Required
   ANTHROPIC_API_KEY=your_anthropic_api_key
   NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
   NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
   SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
   
   # Optional - for GitHub sync
   NEXT_PUBLIC_GITHUB_CONFIGURED=true
   GITHUB_TOKEN=your_github_token
   GITHUB_OWNER=your_username
   GITHUB_REPO=your_repo
   ```

4. **Set up Supabase database**
   
   Run the migration file in your Supabase SQL editor:
   ```bash
   cat supabase/migrations/001_initial_schema.sql
   ```
   
   This creates:
   - `summaries` table
   - `topics` table
   - `mind_maps` table
   - Full-text search indexes
   - RLS policies

5. **Run the development server**
   ```bash
   npm run dev
   ```
   
   Open [http://localhost:3000](http://localhost:3000) in your browser.

## ğŸ“– Usage

### Basic Summarization

1. Paste a YouTube URL into the input field
2. Click "Summarize"
3. Watch the AI-generated summary stream in real-time
4. Summary is automatically saved to the database

### Search & Filter

- Use the search bar to find summaries by keywords
- Click topic tags to filter summaries by topic
- Clear filters to return to all summaries

### View Details

- Click any summary card to view the full detail page
- Toggle mind map visualization
- Share on social media or copy link
- Sync to GitHub (if configured)

### GitHub Sync

See [docs/GITHUB_SYNC_SETUP.md](docs/GITHUB_SYNC_SETUP.md) for detailed setup instructions.

## ğŸ› ï¸ Tech Stack

- **Framework**: Next.js 16 with App Router
- **Language**: TypeScript
- **Styling**: Tailwind CSS 4
- **UI Components**: shadcn/ui
- **AI**: Claude Sonnet 4.5 via Anthropic SDK
- **Streaming**: Vercel AI SDK
- **Database**: Supabase (PostgreSQL)
- **Visualization**: React Flow
- **GitHub**: Octokit REST API
- **YouTube**: youtubei.js

## ğŸ“ Project Structure

```
tubedigest/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ summarize/route.ts    # Main summarization endpoint
â”‚   â”‚   â”‚   â”œâ”€â”€ summaries/route.ts    # Fetch summaries with topics
â”‚   â”‚   â”‚   â”œâ”€â”€ search/route.ts       # Full-text search
â”‚   â”‚   â”‚   â”œâ”€â”€ mindmap/route.ts      # Mind map generation
â”‚   â”‚   â”‚   â””â”€â”€ github/sync/route.ts  # GitHub sync
â”‚   â”‚   â”œâ”€â”€ summary/[id]/page.tsx     # Detail page
â”‚   â”‚   â””â”€â”€ page.tsx                  # Homepage
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                       # shadcn components
â”‚   â”‚   â””â”€â”€ MindMapView.tsx           # Mind map component
â”‚   â””â”€â”€ lib/
â”‚       â””â”€â”€ supabase.ts               # Supabase client
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ migrations/
â”‚       â””â”€â”€ 001_initial_schema.sql    # Database schema
â””â”€â”€ docs/
    â””â”€â”€ GITHUB_SYNC_SETUP.md          # GitHub setup guide
```

## ğŸ¯ Key Features Explained

### AI Summarization
- Uses Claude Sonnet 4.5 for intelligent, structured summaries
- Provides 5-section format: Overview, Key Points, Detailed Summary, Actionable Takeaways, Topics & Tags
- Exponential backoff retry logic for API reliability
- Comprehensive error handling

### Topic Extraction
- Automatically parses topics from summary markdown
- Saves topics to database with foreign key relationships
- Displays as clickable filter tags on summary cards
- Enables topic-based filtering

### Mind Maps
- Parses markdown headings as nodes
- Creates circular layout for visual clarity
- Color-coded nodes by type (root, headings, topics)
- Interactive controls (zoom, pan, minimap)
- Persistent storage in database

### Search
- PostgreSQL full-text search with websearch configuration
- Searches across entire summary text
- Returns results with topics included
- Real-time search feedback

## ğŸ”’ Security

- Environment variables for sensitive data
- Supabase RLS (Row Level Security) policies
- GitHub tokens with minimal required scopes
- No credentials in codebase

## ğŸ› Troubleshooting

### "No transcript available"
- Some videos have transcripts disabled by creators
- Try a different video

### API Errors
- Check your API keys in `.env.local`
- Verify Supabase credentials
- Ensure database migrations are run

### GitHub Sync Issues
- See [docs/GITHUB_SYNC_SETUP.md](docs/GITHUB_SYNC_SETUP.md)
- Verify token has `repo` scope
- Check repository exists and is accessible

## ğŸ“ License

MIT License - feel free to use this project for personal or commercial purposes.

## ğŸ¤ Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## ğŸ™ Acknowledgments

- Built with Claude AI assistance
- Powered by Anthropic Claude API
- UI components from shadcn/ui
- YouTube data from youtubei.js

---

Made with â¤ï¸ using AI-powered development
